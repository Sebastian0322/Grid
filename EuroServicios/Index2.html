<!DOCTYPE html>
<html>
<head>
    <title>Select2-Demos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=No">
   <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <style>
       section {
            padding: 50px 0;
        }

        
        /* custome select */
        .custome-dropdown-wrapper {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 400px;
            margin: 100px auto 0;
        }

        .custome-dropdown-wrapper .select2.select2-container {
            width: 180px !important;
        }

        .custome-dropdown-wrapper .custome-dropdown {
            flex: 0 0 45%;
            max-width: 45%;
        }

        img.img-flag {
            margin: 0 !important;
            display: inherit !important;
            height: 15px;
            width: 18px;
            object-fit: contain;
        }



        #output {
  padding: 20px;
  background: #dadada;
}

form {
  margin-top: 20px;
}

select {
  width: 300px;
}
    </style>
</head>
<body>

    <div class="custome-dropdown-wrapper">
        <select class="custome-dropdown" name="state select" data-placeholder="state select">
            <option value=""></option>
            <option value="Gujarat">Gujarat</option>
            <option value="Keral">Keral</option>
            <option value="Rajasthan">Rajasthan</option>
            <option value="Jammu">Jammu</option>
            <option value="Manipur">Manipur</option>
            <option value="MP">MP</option>
            <option value="UP">UP</option>
        </select>
        <select class="custome-dropdown" name="state select" data-placeholder="multiple select" multiple="multiple">
            <!-- <option value=""></option> -->
            <optgroup label="Pacific Time Zone">
                <option value="CA">California</option>
                <option value="NV">Nevada</option>
                <option value="OR">Oregon</option>
                <option value="WA">Washington</option>
            </optgroup>
            <optgroup label="Central Time Zone">
                <option value="AL">Alabama</option>
                <option value="AR">Arkansas</option>
                <option value="IL">Illinois</option>
                <option value="IA">Iowa</option>
            </optgroup>
            <optgroup label="Eastern Time Zone">
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="IN">Indiana</option>
            </optgroup>
        </select>
    </div>


    <div id="output"></div>
<form method="get">
  <select data-placeholder="Choose tags ..." name="tags[]" multiple class="chosen-select">
    <option value="Engineering">Engineering</option>
    <option value="Carpentry">Carpentry</option>
    <option value="Plumbing">Plumbing</option>
    <option value="Electical">Electrical</option>
    <option value="Mechanical">Mechanical</option>
    <option value="HVAC">HVAC</option>
  </select>
  <input type="submit">
</form>


<script src="https://code.jquery.com/jquery-3.5.0.min.js" integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>

   

   

  

    <script>
       // custome dropdown with image
function formatState(state) {
    if (!state.id) {
        return state.text;
    }
    var baseUrl = "images"; // Write the location of images folder ( make sure that the name of images in this folder is must be the same as the name of select optoin set ) 
    var $state = $(
        '<span><img src="' + baseUrl + '/' + state.element.value.toLowerCase() + '.png" class="img-flag" /> ' + state.text + '</span>' // Add css for img-flag class which is( height:18px; width:18px; display:inherit/block; ) 
        );
    return $state;
};  


$(document).ready(function() {
//custome-dropdown
    $(".custome-dropdown").each(function() { // Suppose if we have two select dropdown and both have different placeholder, that time this method used to declare placeholder dynamically.
        var _this = $(this);
        var jQuerypl = _this.attr("data-placeholder");
        _this.select2({
            dropdownParent: _this.closest("div"), // By default the select2 html contains position at the bottom of body tag..to change that position use this
            // dropdownParent: $(".custome-dropdown-wrapper"), // Insted of above code we can also use thi code ( Select2 does not function properly when I use it inside a Bootstrap modal. For this issue we can also use the same code... )
            // placeholder: "Select State", // To set placeholder Default (must not that for single select there is must be the first option is empty in html)
            placeholder: jQuerypl, // Intesed of above code we can also declare the plceholder dynamically 
            minimumResultsForSearch: Infinity, //for removing search-box
            allowClear: true, // When there is a requirenment to select multiple option( for that it is compulsory to add multiple = "true/multiple" in our 'html' page) it is usefull to clear that all selected option. 
            // selectOnClose: true, // Last hover item selected on close
            // maximumSelectionLength: 2 // This property set restrictions regarding the maximum number of options that can be selected ( when there is a search box is shown ). 
            templateSelection: formatState, // To add image dynamically with option-set( for this show below 'formatState' function )  
            theme: "classic" // To set the theme ( box shodow and more... ) for select2 
        });
    }).on('select2:opening select2:closing', function(event) {
        var $searchfield = $(this).parent().find('.select2-search__field');
        $searchfield.prop('disabled', true);
    }); // Sometimes 'minimumResultsForSearch: Infinity' this option not work for 'multiple select' at that time add this function for 'single selction' there is no neccessory to add this method.

});

//to clear select to options
$('#id').val(null).trigger('change');

document.getElementById('output').innerHTML = location.search;
$(".chosen-select").chosen();


    </script>
</body>
</html>
